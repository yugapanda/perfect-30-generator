## 各文字の役割

- a
  - グループ内の数を和声の決定に利用する, すでに発音されている音があれば、伸ばす
- b
  - 現在のvelocityを10上げる、発音はしないがすでに発音されている音があれば伸ばす
- c
  - 無視される
- d
  - 現在のvelocityを10下げる、発音はしないがすでに発音されている音があれば伸ばす
- e
  - すでに発音されている音があれば、伸ばす
- f
  - 発音せずに3度下行する, すでに発音されている音があれば伸ばす
- g
  - 発音せずに3度上行する, すでに発音されている音があれば伸ばす
- h
  - 発音せずに2度下行する, すでに発音されている音があれば伸ばす
- i
  - すでに発音されている音があれば、伸ばす
- j
  - 合計で5回出現した場合、転調する
  - 休符とする
- k
  - 1つ前の音が和音内の音だった場合  
    - 1つ上の和音外の音が発音される  
  - 1つ前に発音された音が和音外の音だった場合  
    - もっとも近い和音内の音が発音される  
    - 同じ距離に2つの和音内の音がある場合、高い側の音が選択される 
- l
  - 無視される
- m
  - 休符
- `n`  
  - 1つ前に発音された音が和音内の音だった場合  
    - 「今の音」の高さの和音内の音が発音される  
  - 1つ前に発音された音が和音外の音だった場合  
    - もっとも近い和音内の音が発音される  
    - 同じ距離に2つの和音内の音がある場合、開始音と逆方向の音が選択される  
- o
  - すでに発音されている音があれば、伸ばす
- p
  - 転調するまでの間、何度出現したかを「転調先カウント」に保持し、転調される時に０にする
  - 1個貯まる毎に5度上の調に転調する
  - 休符とする
- q
  - 無視される
- r
  - 発音せずに2度上行する, すでに発音されている音があれば伸ばす
- s
  - 1つ前の音が和音内の音だった場合  
    - 「今の音」の高さの和音内の音が発音される  
  - 1つ前に発音された音が和音外の音だった場合  
    - もっとも近い和音内の音が発音される  
    - 同じ距離に2つの和音内の音がある場合、開始音方向の音が選択される  
- `t`   
  - 1つ前の音が和音内の音だった場合  
    - 1つ下の和音外の音が発音される  
  - 1つ前に発音された音が和音外の音だった場合  
    - もっとも近い和音内の音が発音される  
    - 同じ距離に2つの和音内の音がある場合、低い側の音が選択される  
- u
  - すでに発音されている音があれば、伸ばす
- v
  - 「転調先カウント」を1減らす, 
  - 休符とする
- w
  - ベロシティを20下げる, すでに発音されている音があれば伸ばす
- x
  - 無視される
- y
  - ベロシティを20上げる, すでに発音されている音があれば伸ばす
- z
  - ベロシティを90にする, すでに発音されている音があれば伸ばす